# しゃべクリップ

## URL

- リポジトリ: https://github.com/cha1ra/yb-syabeclip-php
- デプロイURL: https://syabeclip.yubase.co.jp/

## 環境

### 開発環境

- PHP 8.2
- MySQL 8.0
- Apache 2.4
- Docker

開発環境のセットアップ：

1. リポジトリをクローンします。
2. `docker-compose up -d` を実行してコンテナを起動します。
3. `http://localhost:8080` にアクセスして開発サーバーを確認します。

### 本番環境デプロイ

本番環境は以下の設定で動作しています：

- PHP 8.2
- MySQL 8.0
- Apache 2.4

デプロイ手順：

1. GitHubリポジトリにプッシュします。
2. GitHub Actionsが自動的にFTPを使用して本番サーバーにファイルをアップロードします。

デプロイの設定は以下のファイルで確認できます：

```yaml:.github/workflows/deploy.yml
startLine: 1
endLine: 33
```

## 注意事項

1. セキュリティ：
   - CSRFトークンを使用しています。フォーム送信時は必ずCSRFトークンを含めてください。
   - セッション管理に注意してください。`auth.php`でセッションの初期化と再生成を行っています。

2. データベース接続：
   - 開発環境と本番環境で異なるデータベース設定を使用しています。`db.php`を参照してください。

3. ファイルアップロード：
   - アップロードされたファイルは`uploads`ディレクトリに保存されます。このディレクトリのパーミッションが適切に設定されていることを確認してください。

4. 環境変数：
   - 本番環境では、FTPサーバーの認証情報などの機密情報はGitHub Secretsで管理されています。

5. パフォーマンス：
   - 大量のデータを扱う場合は、ページネーションやキャッシュの導入を検討してください。

6. ブラウザ互換性：
   - モダンブラウザでのみテストされています。IE11以下のサポートは行っていません。

7. APIキー：
   - 外部APIを使用する場合は、キーを直接コードに記述せず、環境変数として管理してください。

開発を進める際は、上記の点に注意してください。問題や質問がある場合は、イシューを作成してください。
